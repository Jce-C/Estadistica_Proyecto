¿Por qué da error al exportar el PDF?
El error es de programación en JavaScript (Lógica de objetos). Ocurre porque hay una desconexión entre cómo guardas los datos cuando calculas y cómo los buscas cuando intentas imprimir el PDF.

En el archivo js/main.js:

Cuando ejecutas el análisis (ejecutarAnalisis), guardas los datos así:

JavaScript

ultimoAnalisis = {
    datos: datosNum,
    media: media,      // Guardado en la raíz
    mediana: mediana,  // Guardado en la raíz
    ...
};
Pero cuando exportas el PDF (exportarPDF), el código intenta leerlos así:

JavaScript

// Busca una propiedad 'estadisticas' que NO existe
const stats = ultimoAnalisis.estadisticas; 

// Intenta leer stats.media (que es undefined)
['Media', stats.media !== undefined ? ... ] 

// Busca 'datosOriginales' que tampoco definiste en el objeto inicial
const datosText = ultimoAnalisis.datosOriginales.join(', ');
La Solución: Debes corregir la función exportarPDF en js/main.js para que busque los datos donde realmente están, y asegurarte de guardar datosOriginales en ejecutarAnalisis.

Paso A: En ejecutarAnalisis (dentro de js/main.js), agrega los datos faltantes al objeto ultimoAnalisis:

JavaScript

// Busca esta parte en ejecutarAnalisis y agrégale 'datosOriginales' y 'contexto'
ultimoAnalisis = {
    datos: datosNum, // o datosTexto
    datosOriginales: datosCrudos, // <--- AGREGAR ESTO
    contexto: document.getElementById('data-context').value, // <--- AGREGAR ESTO
    media: media,
    mediana: mediana,
    moda: modaObj,
    rango: rango,
    varianza: varianza,
    desviacion: desviacion,
    esPoblacion: false,
    tipoDato: tipoDatoFinal,
    // ... resto de propiedades
};
Paso B: En exportarPDF (dentro de js/main.js), cambia cómo lees las estadísticas:

Cambia esta línea: const stats = ultimoAnalisis.estadisticas; Por esta: const stats = ultimoAnalisis; (Porque tus estadísticas están en la raíz del objeto).

Y asegúrate de cambiar stats.desviacionEstandar por stats.desviacion en el array statsData, ya que en tu objeto la llamaste desviacion.